# Team

## An Engineer's Role in Client and Team Relationships

### Support our Team Members

- We support and mentor others on the team, so they can succeed in quality work, and learn our best practices.
  - We listen for others needs and step up
  - We provide an appropriate level of support - helping out, but also allowing space for them to figure things out and learn
- We collectively own the project, and avoid over-compartmentalizing roles or sections so that we can continue work in anyone's absence, and maximize cross-disciplinary learning.
  - "It's not my job" is not in our vocabulary
  - We learn as much as we can about all phases of the development cycle
- We document a project for possible handoff to another team.
- We honor our commitments and communicate as soon as we think we can't meet them.

### Provide expert consultation

- We show up as experts for our clients, so that we mesh their knowledge of their needs with our knowledge of technology, web and trends to deliver the most value.
- We explain trade-offs to clients and help them evaluate the options so that they can ensure the decision is the right one for the project.
- We are true to our clients underlying needs and best interests, and do not simply do what they ask so that they get the site that solves the right problems for the right people, is maintainable and delivered within the right budget and timeline.

### Participate in Project Discovery

- We double-check assumptions made in the sales cycle during the first meetings with clients.
- We ensure we have sufficient time to discover the scope of our problem set.
- We document our finding as much as possible in a transparent way, so that both the dev team and the client can see and react to the findings.
- We flag any requirements that are likely to cause dev problems, either because we know they have been difficult to implement in the past, they are fiddle-y, the requirement is too vague to accurately estimate, or we don't know how we'll address the problem.
- We try to meet in person with the client if possible. It gives us a better sense of the pressures they face, how they make decisions, who needs to be involved in decisions, and how likely their decisions are to change once they've made an authoritative decision.
- We are aware when a client can't fully explain what they want and why.
- We remain aware that we can limit our involvement if, during discovery, we find problems that we don't think we can overcome within the scope of our contract. We have to be open and honest about the constraints we face.
- It's better to back out of the project rather than burn budget and not be successful.

### Identify and Communicate Risks, Escalate Appropriately

- We label tickets (at least): Low, Medium, High risk.
- We understand the distinction between risk level and confidence level.
- We educate and involve clients in expecting and managing risk.
- It's difficult to share risk with clients and we need to work on the nontechnical skills needed.
- We recognize risk is present at the requirements, knowledge, and execution level, and also "External" risks, such as working with 3rd parties, or on servers that we're not familiar with.
  - Clearly identifying dependencies (data needed, code needed, graphics needed, access needed) can help bound risk.
- We differentiate "pre-execution" risks (requirements, design, assets, dependencies, etc.) which are typically addressed by communication and management from "technical" risks, which can be hard to mitigate in advance.
- We escalate problems quickly to the tech lead, PM and/or account manager if we encounter issues that could block progress, momentum, or success.

### Train clients

- We give frequent demos and get clients using the site early on, so that clients can give us effective feedback and prioritization.
- We train the trainers.
- We try to identify paths towards self-sufficiency for our clients where possible.
- We add good help text for content creators.

### Help measure project success

- To evaluate the success of a project, stakeholders require a means of measuring it.
- We ensure that metrics are available to help evaluate the success of functionality/the project.
- Functionality should always be built in a way that produces actionable metrics (as opposed to "vanity" metrics).
- We document where metrics are stored.
- We support clients in the design and use of user testing, analytics tools, A-B testing for metrics.

## Pairing

Pairing provides an organic opportunity for learning, collaborating, gaining valuable feedback from peers, ensuring that quality standards are upheld throughout a project, catching defects as early as possible, and distributing technical context across the team. We also recognize pairing can be a vulnerable exercise and should be approached with care and deliberate intention.

While pairing, you can observe how others on the team work, how they understand code, approach challenges, and even what tooling and habits they employ. You can also [rubber duck debug](https://en.wikipedia.org/wiki/Rubber_duck_debugging), soundboard, reality check, and collaborate on thorny solutions. Pairing can be fun! Especially for distributed teams (both geologically and project-wise), pairing offers a vehicle for connection.

### What Works Well

- Sitting next to each other and talking through a task.
- Doing a task in parallel, i.e. each doing roughly the same things on their own
  computer.
  - This is especially good when learning a new piece of software, since neither
    of you know it out of the gate, and watching someone explore can feel clumsy
    and wasteful.
- Sharing a computer
- Switching off driving (having the less senior person drive when time less of
  an issue)
- Daily check-ins: discuss the tasks you’ve done since you last spoke/expect to
  do in the near future.
- The task leader goes through a task (at least partially) on their own first,
  and then brings the other person through
- If additional research is needed to continue, make a plan to separate for a
  set amount of time and then return to go over discoveries
- Pair from the beginning of the task/feature/bug fix. Don’t try to start
  mid-effort.

### What doesn't work well

- Having one person drive all the time
  - Even (especially!) if one person is far more familiar with the codebase.
  - Take turns! If you feel you’ve just been watching for too long, speak up.
- Having one person do all the “discovery” work: the work that you do to learn
  about the problem and build context by diving into the codebase, reading docs,
  and asking questions.
- Pairing on a tight time budget.
  - Okay, theoretically we say pairing is more important than a deadline, but
    it’s unclear whether that’s something we can support when the pressure’s on.
- Wandering attention, checking Slack or your phone, generally drifting off.
  - All of these signal to the person that you are pairing with that you don’t
    think the work is worth your attention. It can be particularly easy to fall
    into this when pairing remotely. Be prepared to give the work your full
    attention.
- No matter how excited you are about getting started, don’t start work you’ve
  agreed to pair on without the other person unless there is a reason e.g. time
  pressures.

### Remote Pairing Etiquette

- Ask before grabbing the mouse / keyboard
  - Sometimes you need to move the cursor to get it back onto your local screen.
    Try to end each driving session with the cursor already on your screen.
- Turn off notifications or consider using a tool to block other applications
  while pairing
- Make sure to think out loud as much as possible since it can be very difficult
  to follow what someone is doing through screen sharing
- If you need to mute the other person or step away for any reason, make sure to
  notify the person you are pairing with
- If you need to take a break, say so and agree to come back after a fixed time
  span.

### Pairing Feedback

It’s important to check in with your partner from time to time to make sure
you’re both getting what you need. To this end, you should schedule 1:1s if you
are frequently pairing with someone whether or not it’s a formal relationship.
These meetings can be anything from a casual 15 minute check-in to a periodic
hour-long discussion.

Make sure that you make time for giving feedback to each person. No matter what
the skill level of each of the folks involved is, both parties will benefit from
hearing how the other person is experiencing the pairing.

If you have consistent stumbling blocks, try to take time to think of a couple
of potential solutions before your next check in. This will mean that your
partner has the opportunity to solve the issue in a way that is conducive to the
way you work, which is always a bonus.

### Resources

- [On Pair Programming](https://martinfowler.com/articles/on-pair-programming.html)
- [Tuple’s Pair Programming Guide](https://tuple.app/pair-programming-guide)
- [Remote pair programming: Tips, tools, and how to measure](https://raygun.com/blog/remote-pair-programming/)
- [Kim and Misty’s excellent Pair Programming OTT](https://drive.google.com/file/d/1NT02HHVR23bjZ_4RdCl-GUihGeBLEVvO/view)

## Code Reviews

Like pairing, effective code reviews provide some of the best opportunities for learning, gaining feedback, and ensuring quality through a very human and vulnerable process.

We've collected some of the best practices for projects to systematize the code review process and lay out expectations for the creator of the pull request as well as the role of the reviewer.

### As a Team

Teams are free to modify these recommendations at their discretion, but generally:

1. **Do it asynchronously.** If you or the reviewer are at all busy, and you probably are, do it asynchronously. Let the reviewer know there’s an item awaiting their attention, then give them a day to get to it. If they don’t get to it in a day, ping them again.

2. **Make code review a gatekeeper step in your source management process.** GitHub’s pull request feature does a great job of supporting an integrated code review step. A dashboard shows what pull requests are outstanding, and a merge button minimizes friction once the changes have passed review. As a rule, two reviews should be required for merging. Use PR templates for prompting submissions to explain corresponding context to reviewers.

3. **Integrate your tool into a team communication medium.** Have the code review tool notify you when relevant changes have been made or commented upon. Email or chat should catch your attention in a timely manner, and not break your flow.

### As a Contributor

(Make sure you review our `git` tech handbook documentation for best practices.)

Surprises make for frustrating reviews. The single most helpful practice in submitting a review is frequent communication with future reviewers. These other developers should already know the context scope of the changes you are making, as well as the kinds of tradeoffs you have been considering. For nontrivial changes, consider pairing at some point in the development of a submission.

Once your code is ready for submission, we suggest that you do the first code review yourself, including adding the comments on the PR as you would expect from others. Use this as an opportunity to ask clarifying questions, elevate concerns, or explain tricky pieces. Ask yourself:

1. Is the code **READABLE**?

   - Is it well-organized?
   - Are the class, variable, and method names clear and descriptive?
   - Are the formatting, spacing, comments, and indentations consistent?
   - Have you refactored the code to reduce repetition and nested code?
   - Have you included the appropriate comments to make your code readable to others?

2. Have you followed the language’s **STYLE CONVENTIONS**?

   - Are class, variable, and method names cased and capitalized according to the style conventions of the language (e.g. camelCase vs. snake_case)

3. Is the code **CORRECT**?

   - Does the code work as intended?
   - Does the logic make sense and solve the intended problem?
   - Have you provided instructions for reviewers to setup and verify the solution works?

4. Have you identified and accounted for **BUGS** and **EDGE CASES**?

5. Have you anticipated all the issues that could arise in your code that the person doing your code review will raise?

6. Do you understand every line of code you are submitting? If not, go through each line and write down questions to clarify everything you do not understand, then ask!

As a general comment on style, everything goes faster if pull requests are of a reasonable size. If the reviewer can grok your changes in under 5 minutes, you're golden. Sometimes a larger commit is necessary, and that's fine. Commits that take longer than 10-15 minutes to review should be scrutinized, or framed in a way that helps the reviewer understand why the commit must be so large. Larger commits slow project velocity due to this code review friction, and are to be broken into smaller commits or PRs if possible.

After the first round of comments, you should review the comments and make changes or give feedback. Where in doubt, defer to the opinion of the reviewer. You can always change it later.

### As a Reviewer

The code reviewer should be looking at many aspects of the code at once. The overall structure, the structure of individual methods or classes, the syntax, the nomenclature, the comments, the documentation, the testability, and the adherence to style guides used for your project. (Team checklists and auto configuration can help to make sure you don’t miss anything here.)

The reviewers in a code review should start by trying to understand the motivation of the person writing the code. If that is not clear to you, then a good comment might be one inquiring as to the purpose of the code. Once you understand the coder’s motivation, use this perspective as a jumping off point to provide observations and suggestions that might make the code better. When critiquing someone else, starting from a perspective of understanding will help you to make a more informative and effective critique.

Be clear, succinct, and courteous. This is the best way to make sure your comments are heard and understood. Give reasons to back up your suggestions. Cite style guides where they exist. Leave room for the other person to explain where you might be missing something, oftentimes phrasing a question helps and accurately captures your gap in context. Call out good code: praise is valuable feedback!

Complete the code review soon after it was requested. Under 15 minutes is fantastic, under a day is great. Any longer than two days, and the changes begin to get stale, not just in the codebase, but also in your head. The fresher you can be when reviewing the changes, the faster all the steps of the code review process will be. If the code begins to get old and stale, escalate the review of those changes in priority, or question whether they are important enough to matter in the first place.

### Resources

- [11 Proven Practices for Peer Review | IBM](https://www.ibm.com/developerworks/rational/library/11-proven-practices-for-peer-review/)
- [Best Kept Secrets of Code Review | SmartBear](https://smartbear.com/SmartBear/media/pdfs/Best-Kept-Secrets-of-Peer-Code-Review_Redirected.pdf)

## Technical Design

This section provides some guidance
for designing new features or architectural changes.
While process may change based on project needs
(such as existing client process or team size),
these resources can provide a foundation when necessary.

Some purposes of providing a process for technical design are to:

- clarify problem statements and client value.
- guide Engineers through breaking down complex problems.
- facilitate collaboration amongst Engineers.
- share information across teams.
- empower Engineers of all levels to make and contribute to architectural decisions.

## Design Documents

Technical designs are necessary when features or architectural changes have significant unknowns or has long-term and widespread impact. Some examples include:

- building the foundation for a new application.
- designing a set of APIs with no existing pattern.
- implementing a new authorization pattern throughout a codebase.

Try to keep these broad guidelines in mind while you work:

- Always define and readdress stakeholder value.
- Discover your audience and keep them in mind while writing.
  The document may be read by:
  - Engineers directly responsible for implementation.
  - Engineers on other teams who need to be aware of decisions and changes in the codebase.
  - Clients, Product Managers, and/or Team Leads looking for a solution overview and resource considerations.
  - Security experts assessing risk.
- Foster inclusive collaboration.
  - Emphasize main points,but provide resources for less experienced team members or people removed from the subject area. Rely heavily on links to external documentation.
  - Consider enabling less experienced Engineers to lead design with guidance. Learning technical design can be a great avenue for career growth, and ultimately levels up people and teams.
  - Find common language Domain specific language may be necessary, but when possible provide clarification or use common terms.

Note that design documents are not a substitute for early design discussions. Ideas should be discussed before a more extensive design is applied. Find subject experts and stakeholders early to vet proposals.

Also note that design documents are not a go-ahead for implementation, nor are they a substitute for agile workflow. Priorities may change based on resources, roadmaps, or unknown constraints. The initial design may be used as a measure for completion, but maintain an agile approach, readdress tradeoffs, and be adaptable to changes during the implementation phase.

### Resources

- [6 Lessons I learned while implementing technical RFCs as a management tool](https://buriti.ca/6-lessons-i-learned-while-implementing-technical-rfcs-as-a-management-tool-34687dbf46cb)
- [Rust RFC Template](https://github.com/rust-lang/rfcs/blob/master/0000-template.md)

## Documentation

Documentation is a key part of any software project, but it's often something that many engineers struggle with even if we recognize its importance. Writing well is just as difficult whether it is code or docs, and both require deliberate effort in order to hone your skills.

Documentation has a positive feedback loop -- if you have documentation that is well-written, provides real value, and is easy to find, you're much more likely to have people work to keep it accurate and up to date. In contrast, if you have documentation that is inaccurate, hard to read, and/or hard to find, then people will tend to discount the value of documentation entirely -- so they are much less likely to treat it as a key component of your project.

### Findability

Docs that no one knows about or can't find when they need them are essentially docs that don't exist. If we want to encourage people to write good docs, we need to make sure we can model good behavior. Some specific tips for accomplishing this goal:

- Establish strong norms (if not hard and fast rules) about where documentation belongs, preferably in no more than two places (eg, a Git repo for technical docs and a Google Drive for design docs). If people have to look in too many places to find what they are looking for, they will eventually just give up (and it makes it more likely you'll have many different inconsistent documents for the same thing).
- Make it easy to find documents in those repos without needing to play a guessing game with keywords (especially since a search for something like "terraform" or "docker" is probably going to give you too many results to be useful). Provide good tables of contents (they should not be too long) and put related documents close to each other topologically.
- Give documents descriptive, non-generic titles. Giving a document a title like "Docker" or "Alerts" becomes increasingly troublesome the larger your project gets -- if you're using Docker for three different applications and local development, what does the "Docker" document refer to?
- Keep in mind the specific restrictions of your repositories. If you are using a wiki with a table of contents in the left margin that only shows ~20 characters, keep your titles as close to that limit as possible. If you are using a Git repo, make sure the filenames for your markdown documents are also descriptive.

### Single Purpose

A document that tries to do too many things ends up doing none of them well. If you are writing a step-by-step how-to on a specific process, avoid going into a deep dive on the involved systems. In addition, keeping your documentation focused will mean individual documents will be kept shorter, which is important if you want people to be able to read them easily and find the information they are looking for.

Consider breaking your documentation into a set of distinct categories, and make sure the type of document is very clear in the title (so you could title the document "Runbook: Spacecats DB Alerts," for instance). Categories could include:

- _How-tos_ are step-by-step guides to common procedures intended for execution under normal operation. A reader should be able to execute these steps safely when following the document.
- _Runbooks_ are documents intended to be used in concert with alerts that guide troubleshooting and mitigation responses and should include information on issues that users may expect with upstream and downstream services. A reader should be able to perform a quick diagnosis of an alert's underlying causes, or at least rule out any common issues, with the information provided in the document.
- _Topical guides_ provide a deep dive into how a specific system or service works, with references to design docs that illustrate how technical decisions were made on the project. Readers should come away with a strong understanding of how the system works, as well as how to gather more information about the system and its state on their own.

These aren't meant to be prescriptive; define your categories in a way that works best for your project. However, whatever you decide, the categories should be clearly defined and focused; notice the "what the reader should get from this document" part of the description -- if you cannot adequately summarize what a reader is supposed to get from the document in a single sentence, it is probably too widely scoped.

### Keep your audience in mind always

The most important thing when writing documentation is to remember that you are writing this _for_ someone. It may be new engineers, it may be people on-call, it may be stakeholders in the C-suite, but whoever they are, you intend for _someone_ to be reading this at some point in the future.

If you aren't keeping this audience in mind throughout the process of writing your docs, then you are going to miss the mark. Writing a document intended for new engineers and assuming a ton of knowledge will severely limit its utility. Similarly, writing something intended for project leads and spending pages defining common terms they're already familiar with will probably cause them to lose patience and start to skim things over.

### Avoid going overboard with graphics or video

Often we'll be tempted to add lots of screenshots, diagrams, or other graphics to documentation to try and make things more clear. A well-placed graphic can help, but too many will make the upkeep of your documentation too difficult. It is _much_ more difficult to edit a graphic (and videos even more so) than to edit text, so use them only when they're worth the added cost in maintainability.

In addition, adding lots of graphics will make it harder to read the text. If people cannot follow from one paragraph to the next (seeing them both on the screen at the same time), this is especially difficult. If you need to use large graphics, use thumbnails and link to the larger version to prevent them from being too distracting. Graphics can also make your docs less accessible, so captions and alt text are important. In fact, a useful exercise in determining the usefulness of the graphic is to try writing the caption first, and then make sure that the graphic represents what you want to convey.

### Keep individual documents short -- but not too short

There's nothing worse than trying to find the one paragraph you need from a 20 page document. In order to avoid this, we should keep individual documents short and focused. Generally, anything more than 4 "pages" (ie, you would need to scroll four full screens to see the whole thing) is going to feel "long" to most readers -- if you go over this length, be aware that a lot of people will resist reading this documentation in a single sitting. this might be acceptable for a thorough technical document, but it's not great for something you're expecting people to refer to regularly.

If your document is something people are going to have to refer to in a crisis, you should consider keeping it even shorter -- no more than two pages. Following the other tips on this page will help you keep your documents short and focused.

One warning: if you link to other documents in yours to keep your document shorter, try to avoid sending people down a Wikipedia-esque link hole. If you can summarize the information you want people to get from the other document in a sentence or two, you should try to do that (in addition to providing the link for further exploration).

### Solicit Documentation Feedback

You wouldn't want to put code in production without a thorough code review and testing, and you shouldn't expect people to use your documentation before it gets a thorough review either. Some tips for reviewing docs:

- Junior members of your team are great people to have review your docs, since they will likely be using them the most. They _aren't_ usually the best people to _write_ docs though, since they have the least context for them.
- For step-by-step guides, try running the commands. Do they work? Is it safe to run them? They should _not_ use real people's usernames or other problems if someone just cut-and-pastes the command!
- Try reading paragraphs out loud. Does the language feel awkward or ambiguous?
- If you're the writer, have the reviewer tell you what they took away from the document -- is it what you wanted them to know? Did they come away with a good mental model of the system you described?

### Tips

- Lists and tables can be a good way to present information people need in a hurry -- they are easier to digest than paragraphs of text (but may not be best for nuanced information).
- Use active voice instead of passive voice whenever possible ("do this thing" not "this thing must be done").
- Put conditionals _before_ imperatives to prevent people from doing something without realizing when they shouldn't ("If not Y, do X", not "do X if not Y").

### Resources

- [10 Tips For Making Your Documentation Crystal Clear](https://opensource.com/life/16/11/tips-for-clear-documentation), Ben Cotton
- [A Primer on Documentation Content Strategy](https://increment.com/documentation/primer-on-documentation-content-strategy/), Stephanie Blotner
- [What to Write](https://jacobian.org/writing/what-to-write/) and [Technical Style](https://jacobian.org/writing/technical-style/), Jacob Kaplan-Moss
- [Yelp Production Engineering Documentation Style Guide](https://engineeringblog.yelp.com/2018/10/yelp-production-engineering-documentation-style-guide.html), Chastity Blackwell
- [Content debt: What it is, where to find it, and how to prevent it in the first place](https://18f.gsa.gov/2016/05/19/content-debt-what-it-is-where-to-find-it-and-how-to-prevent-it-in-the-first-place/), Melody Kramer
- [Keep Refining](https://content-guide.18f.gov/our-approach/keep-refining/), 18F
- [The 7 Deadly Sins of Documentation](https://www.usenix.org/conference/srecon18europe/presentation/blackwell), Chastity Blackwell
- [Scalable Meatfrastructure](https://www.usenix.org/conference/lisa15/conference-program/presentation/goldfuss), Alice Goldfuss
- [Traps and Cookies: A Mystery Package From Your Former Self](https://www.usenix.org/conference/lisa16/workshop-program/presentation/reilly), Tanya Reilly

## Growth

When working on a project, it's important to allow time for career growth. Folks will have different levels of experience and will need to explore areas that are not directly related to completing project work.

We believe that this exploration winds up benefiting the client in the long run, both through immediate impact (e.g. speeding up tests) and the client getting the benefit of learning that happened elsewhere. Allowing time for growth ensures consistent, high quality work which benefits everyone.

To ensure that growth happens, the time should be built into the estimate for a ticket. From time to time, it will be appropriate to restrict exploration and "just get the ticket done", but that should happen infrequently.

### T-Shaped Engineers

We want you to be able to make informed decisions across our entire system. To handle this great responsibility, you will need to invest in yourself and continue to grow. The ideal engineer for our needs is "T-Shaped": with a vertical line of deep knowledge in one or a few areas, and a horizontal line representing a shallow but sufficient level of knowledge across a broad spectrum. The archetypical example would be the frontend React expert who knows enough to be able to track a bug down to the database or application code level. The goal is to understand the key concepts and foundational core, to learn the boundaries of your knowledge and map out what you know and what you don't know, and be able to communicate with experts on the topic.

### Asking Questions

We have tremendous faith in you. We expect you to ask questions. It is a part of the job, and it benefits the folks providing the answers. It helps us to learn more through teaching and forces us to distill and focus the knowledge when we explain it. Asking questions can also help us discover holes in our documentation or solutions. Asking questions is a public service.
